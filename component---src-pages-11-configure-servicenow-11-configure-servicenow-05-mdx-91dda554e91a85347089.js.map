{"version":3,"file":"component---src-pages-11-configure-servicenow-11-configure-servicenow-05-mdx-91dda554e91a85347089.js","mappings":"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","sources":["webpack://example/./src/pages/11-configure-servicenow/11-configure-servicenow-05.mdx","webpack://example/./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack://example/./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack://example/./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack://example/./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/index.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/LastModifiedDate.js","webpack://example/./node_modules/gatsby-theme-carbon/src/components/LastModifiedDate/last-modified-date.module.scss","webpack://example/./node_modules/gatsby-theme-carbon/src/templates/Default.js"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/jorgego/CODE/waiops/nik-automationv3.6/cp4waiops-training/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`üì• STEP: Creating stories as incidents in ServiceNow`}</h2>\n    <p>{`After the integration is finished, for every chatbot story created, an incident will be created in ServiceNow. For example, the creation of the following story number 9 in Slack:`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/slack-story.png\",\n        \"alt\": \"slack-story\"\n      }}></img></p>\n    <p>{`This story has a corresponding incident created in ServiceNow. To access these incidents, from the ServiceNow home page search for agent, and click on Agent Workspace Home, as shown below`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/agent-workspace.png\",\n        \"alt\": \"agent-workspace\"\n      }}></img></p>\n    <p>{`In the Agent Workspace, if you click on the burger menu and select Watson AIOps Incidents, you will see the list of incidents created by Watson AIOps as shown below`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/waiops-incidents-in-sn.png\",\n        \"alt\": \"waiops-incidents-in-sn\"\n      }}></img></p>\n    <p>{`This is the incident in ServiceNow that corresponds to the story number 9 that was mentioned before`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/story9-in-sn.png\",\n        \"alt\": \"story9-in-sn\"\n      }}></img></p>\n    <h2>{`üì• STEP: Historical similar incidents`}</h2>\n    <p>{`When an incident occurs, it can be helpful to review details for similar incidents to help determine a resolution. This AI model aggregates information about similar messages, anomalies, and events for a component or application. It can also extract the steps used to fix previous incidents, if documented. Training this AI model will help you discover historical incidents to aid in the remediation of current problems.`}</p>\n    <p><strong parentName=\"p\">{`Important:`}</strong>{` Incidents in ServiceNow must contain meaningful entries in the Resolution notes (close_notes value in the logs) field to successfully populate the Search recommended actions feature in your ChatOps interface. If your incidents do not include resolutions, or include default entires like Closed by Caller, these values do not identify paths to remediation. As a result, empty or non-meaningful entries yield no results in your ChatOps interface because they provide no potential actions.`}</p>\n    <p>{`The process can be defined in the following steps:`}</p>\n    <p>{`1) Change at least five existing incidents in your ServiceNow developer instance in order to match the stories you already have in Slack. To see the existing sample incidents in your ServiceNow developer instance search for incidents and select Service Desk -> Incidents as shown below`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/search-incidents.png\",\n        \"alt\": \"search-incidents\"\n      }}></img></p>\n    <p>{`Select an existing open incident and update the description and short description with some known log anomaly error from an existing story. For example the next picture shows the description as ‚ÄúUnknown Error web‚Äù. Then click on the Resolution Information tab and Close the incident with resolution code Solved and fill the Resolution Notes with some resolution such as ‚Äúweb service was restarted‚Äù. Repeat this process for at least five tickets.`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/updated-incident.png\",\n        \"alt\": \"updated-incident\"\n      }}></img></p>\n    <p>{`2) Now we can load the historical incidents data. We will verify that there is no incident data loaded yet by running the following command`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<<<login into the cluster>>>\noc exec -it  \\`oc get pods|grep ai-platform-api-server|awk '{print $1;}'\\` bash\n`}</code></pre>\n    <p>{`Now run the following CURL command`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl --insecure -u $ES_USERNAME:$ES_PASSWORD -X GET https://$ES_ENDPOINT/_cat/indices -k|sort|grep -e incident -e snow\nyellow open snowchangerequest                   tyEtirBzSh6sAgN6mVc51g 1 1      0  0    208b    208b\nyellow open snowincident                        bEX48U3rT4GzpM0zt6Mgaw 1 1      0  0    208b    208b\n`}</code></pre>\n    <p>{`As you can see there is no data yet. `}</p>\n    <p>{`We will enable the incident data flow now. `}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`From the Home page click on Data and tool integrations. `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the ServiceNow integration and select Edit. `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`From the integration form, we will pull data by selecting ‚ÄúData Flow‚Äù ON, `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Check ‚ÄúHistorical data for initial AI training‚Äù and `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select a start/end date to cover the existing sample incidents in the ServiceNow developer instance. In my instance this range was from 08/08/2015 until 05/13/2021. 1. Select 2 for ‚ÄúSource parallelism‚Äù. Keep topology Data off. `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the Save button at the bottom of the page. `}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./../images/snow/flow-on.png\",\n          \"alt\": \"flow-on\"\n        }}></img>\n      </li>\n    </ol>\n    <p>{`Now incident data is being loaded into WAIOPS. `}<strong parentName=\"p\">{`Wait for an hour.`}</strong>{` `}</p>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` this is a limitation of the vV3.1.1product in the sense that there is no feedback in the UI regarding how the data is being loaded or what data has been loaded already.`}</p>\n    <p>{`After an hour wait, we will verify that now there is indeed incident data loaded by running the same command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<<<login into the cluster>>>\noc exec -it  \\`oc get pods|grep ai-platform-api-server|awk '{print $1;}'\\` bash\n`}</code></pre>\n    <p>{`Now run the following CURL command`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl --insecure -u $ES_USERNAME:$ES_PASSWORD -X GET https://$ES_ENDPOINT/_cat/indices -k|sort|grep -e incident -e snow\nyellow open snowchangerequest                   tyEtirBzSh6sAgN6mVc51g 1 1    164  0 169.3kb 169.3kb\nyellow open snowproblem                         xBjP5lvrRYWOlidFd0X_Xw 1 1      2  0 123.2kb 123.2kb\nyellow open snowincident                        bEX48U3rT4GzpM0zt6Mgaw 1 1    138  0 280.8kb 280.8kb\n`}</code></pre>\n    <p>{`As you can see there is incident data now loaded in elastic search. Now we need to disable the data flow. Click on the ServiceNow integration and select the 3dot menu on the far right and select ‚ÄúDisable Ticket Data Flow‚Äù.`}</p>\n    <p>{`3) Now its time to use that data for historical similar incident training. Click AI Model Management from the Home page and select the Similar Incidents card as shown below.`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/similar-incidents-button.png\",\n        \"alt\": \"similar-incidents-button\"\n      }}></img></p>\n    <p>{`  Create a training definition by clicking on the Create Training Definition button. Select ‚Äúmanually‚Äù for the schedule option and click save. The next picture shows a training definition (not that in this case it has already been used for training)`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/training-definition.png\",\n        \"alt\": \"training-definition\"\n      }}></img></p>\n    <p>{`Now its time to run the training. From the top right Actions menu select Start Training. After some time, you will the training results and the confirmation that the model has been deployed as shown in the next picture:`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/training-done.png\",\n        \"alt\": \"training-done\"\n      }}></img></p>\n    <p>{`Now, lets take a look at elastic search again and see if the new model is there. Run the following commands: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<<<login into the cluster>>>\noc exec -it  \\`oc get pods|grep ai-platform-api-server|awk '{print $1;}'\\` bash\n`}</code></pre>\n    <p>{`Now run the following CURL command`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl --insecure -u $ES_USERNAME:$ES_PASSWORD -X GET https://$ES_ENDPOINT/_cat/indices -k|sort|grep -e incident -e snow\nyellow open 1000-1000-incident_models_latest    DEFV7jFXQcO9j16w9wg3Wg 1 1      1  0     4kb     4kb\nyellow open incident-train-last-timestamp       qZBKSzkyR528ou48vR3O3g 1 1      1  0   3.5kb   3.5kb\nyellow open incidenttrain                       _mI7aKfSSgi9EFPfPln-eQ 1 1     88  0 141.1kb 141.1kb\nyellow open normalized-incidents-1000-1000      dknPqXemSjyfYbTXPeJ91Q 1 1     44  0  82.9kb  82.9kb\nyellow open snowchangerequest                   tyEtirBzSh6sAgN6mVc51g 1 1    246  0   271kb   271kb\nyellow open snowincident                        bEX48U3rT4GzpM0zt6Mgaw 1 1    207  0 456.7kb 456.7kb\nyellow open snowproblem                         xBjP5lvrRYWOlidFd0X_Xw 1 1      3  0 241.2kb 241.2kb\n`}</code></pre>\n    <p>{`As you can see, there is a new model created for incidents. `}</p>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Finally, lets use the new model by running the Search Similar Incidents functionality from an existing story in Slack. Select a story that has a reference to the updated incident you did previously and click on Search Similar Incident button `}</p>\n        <img parentName=\"li\" {...{\n          \"src\": \"./../images/snow/similar-incidents-slack.png\",\n          \"alt\": \"similar-incidents-slack\"\n        }}></img>\n      </li>\n    </ol>\n    <p>{`As we can see in the previous picture, when we click search, a historical incident is found and a summary of the ticket resolution activities are shown. You can click on the text in blue to go to the actual ticket in your ServiceNow developer instance.  `}</p>\n    <h2>{`üì• STEP: Pulling inventory and topology data from ServiceNow`}</h2>\n    <p>{`Using the WAIOPS ServiceNow Observer job, you can retrieve the Configuration Management Database (CMDB) data from ServiceNow. The ServiceNow developer instance comes loaded with sample topology and inventory data. In this section, we will define an observer job to pull this information into WAIOPS, that can be later be seen from the Topology Viewer.`}</p>\n    <h4>{`ServiceNow CMDB`}</h4>\n    <p>{`The ServiceNow Configuration Management data base creates and maintains the logical configurations the network infrastructure needs to support a ServiceNow service. These logical service configurations are mapped to the physical layout data of the supporting network and application infrastructure in each of the respective domains. They track the physical and logical state of IT service elements and associate incidents to the state of service elements, which helps in analyzing trends and reducing problems and incidents. The configurations are stored in a configuration management database which consists of entities, called Configuration Items (CI), that are part of your environment. A CI may be:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`A physical entity, such as a computer or router`}</li>\n      <li parentName=\"ul\">{`A logical entity, such as an instance of a database`}</li>\n      <li parentName=\"ul\">{`Conceptual, such as a Requisition Service`}</li>\n    </ul>\n    <p>{`A CI does not exist on its own. CIs have dependencies and relationship with other CIs. For example, the loss of disk drives may take a database instance down, which affects the requisition service that the HR department uses to order equipment for new employees.`}</p>\n    <p>{`In order to see existing CMDB data in ServiceNow, from the developer instance home page, from the top left you can search for CI, click on CI Class Manager and click the ‚ÄòHierarchy‚Äô button at the upper left of this page to start the CI Class Manager. `}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/ci-class-manager.png\",\n        \"alt\": \"ci-class-manager\"\n      }}></img></p>\n    <p>{`For example, on the `}<em parentName=\"p\">{`CI Classes`}</em>{` column, click on `}<em parentName=\"p\">{`Hardware`}</em>{`, select the CI List to see the actual items and search for SAP. You will find a number of SAP servers own by the Lenovo Organization as shown below. We will see these same SAP servers later in the Topology Viewer in WAIOPS.`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/sap-lenovo.png\",\n        \"alt\": \"sap-lenovo\"\n      }}></img></p>\n    <h4>{`ServiceNow Observer Job`}</h4>\n    <p>{`In CP4WAIOPS there are two ways to enable a ServiceNow observer job: the first way is inside the ServiceNow main integration form and the second way is as a regular observer job. In this cookbook, we will follow the second option. `}</p>\n    <p>{`From the WAIOPS home page, click on `}<em parentName=\"p\">{`Data and tool integrations`}</em>{`, then click on the `}<em parentName=\"p\">{`Advanced`}</em>{` tab and finally select `}<em parentName=\"p\">{`Manage observer jobs`}</em>{`. You will see the list of available observers after you click on the `}<em parentName=\"p\">{`Add a new job`}</em>{` card as shown below (note that the number of observer cards will vary depending on what observers are enabled in your WAIOPS instance)`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/observer-list.png\",\n        \"alt\": \"observer-list\"\n      }}></img></p>\n    <p>{`Click on the ServiceNow card and complete the observer job form as shown below: `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Unique ID: Be sure to give your job a unique name so you can recognize it in the future.`}</li>\n      <li parentName=\"ul\">{`ServiceNow instance: Specify the URL of the ServiceNow developer instance.`}</li>\n      <li parentName=\"ul\">{`ServiceNow username: Specify the same ServiceNow `}<em parentName=\"li\">{`events`}</em>{` user username you configured before under the `}<strong parentName=\"li\">{`Creating ServiceNow integrations`}</strong>{` section.`}</li>\n      <li parentName=\"ul\">{`ServiceNow password: Specify the same encrypted password you configured before under the `}<strong parentName=\"li\">{`Creating ServiceNow integrations`}</strong>{` section.`}</li>\n    </ul>\n    <p>{`Leave the optional `}<strong parentName=\"p\">{`Additional parameters`}</strong>{` section unchanged. Click on the `}<strong parentName=\"p\">{`Job schedule`}</strong>{` section and confirm that Run time is set to `}<em parentName=\"p\">{`now`}</em>{` and Time interval as `}<em parentName=\"p\">{`once only`}</em>{` `}</p>\n    <p>{`The following screenshot shows the complete form: `}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/edit-observer-job.png\",\n        \"alt\": \"edit-observer-job\"\n      }}></img></p>\n    <p>{`Finally click on `}<strong parentName=\"p\">{`Save`}</strong>{` to save the observer job configuration and run the job. This job will pull all the existing topology and inventory data from your ServiceNow developer instance into WAIOPS.`}</p>\n    <h4>{`ServiceNow Observer Job logs`}</h4>\n    <p>{`After you let the job run, lets check the logs of the observer pod by running the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc logs \\`oc get pods|grep servicenow-observer|awk '{print $1;}'\\` > servicenow-observer-logs.txt\n`}</code></pre>\n    <p>{`Open the log output file `}<em parentName=\"p\">{`servicenow-observer-logs.txt`}</em>{` and verify that you see log lines like those shown below:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`INFO   [2021-05-21 19:08:45,222] [dw-28 - POST /1.0/servicenow-observer/jobs/load] c.i.i.t.o.a.JobPostApi -  dw-28 - POST /1.0/servicenow-observer/jobs/load - submitJobRequest - Accepted job id: DcXec2deRKyC4GbcHmygew, name: ServiceNow Observer Job 1, for scheduling. \nINFO   [2021-05-21 19:08:45,298] [pool-12-thread-1] c.i.i.t.k.c.a.ConsumerWorker -  Consumer topic [itsm.nodes.json] Read 2 records from Kafka \nINFO   [2021-05-21 19:08:45,301] [pool-12-thread-1] c.i.i.t.o.p.ResourceUploadPluginManager -  Change of {\"keyIndexName\":\"servicenow-observer-provider\",\"name\":\"servicenow-observer-provider\",\"entityTypes\":[\"provider\"],\"vertexType\":\"mgmtArtifact\",\"_id\":\"VD6JvpGcMrUUbsKfYyucXQ\"} \n...\nINFO   [2021-05-21 19:08:51,808] [Fetch:cmn_department] c.i.i.t.o.s.a.r.ServiceNowRestApi -  Fetched records 1 to 7 of /api/now/table/cmn_department from a total 7 records \nINFO   [2021-05-21 19:08:52,057] [Fetch:cmn_department] c.i.i.t.o.s.a.r.ServiceNowRestApi -  Process all 7 records for /api/now/table/cmn_department \n...\nINFO   [2021-05-21 19:08:59,722] [Fetch:cmdb_ci] c.i.i.t.o.s.a.r.ServiceNowRestApi -  Fetched records 1 to 2784 of /api/now/table/cmdb_ci from a total 2784 records \n...\nINFO   [2021-05-21 19:09:23,087] [pool-12-thread-1] c.i.i.t.o.p.ResourceUploadPluginManager -  Change of {\"keyIndexName\":\"servicenow-observer:ServiceNow Observer Job 1\",\"name\":\"ServiceNow Observer Job 1\",\"entityTypes\":[\"ASM_OBSERVER_JOB\"],\"vertexType\":\"mgmtArtifact\",\"tags\":[\"OBSERVATION_JOB\",\"servicenow-observer\"],\"_id\":\"DcXec2deRKyC4GbcHmygew\",\"_changeMap\":{}} \n`}</code></pre>\n    <h4>{`Verify Data in Topology Viewer`}</h4>\n    <p>{`Finally, lets verify the ServiceNow inventory and topology data in the Topology Viewer. From the WAIOPS home page click on `}<em parentName=\"p\">{`Topology viewer`}</em>{` and search for Lenovo and click on the search result blue target. You will see that the topology for the ServiceNow Organization `}<em parentName=\"p\">{`Lenovo`}</em>{` is shown. If you zoom-in, you will see that this topology includes the SAP servers (SAP-SD-01, SAP-SD-02, etc) we saw before in ServiceNow.`}</p>\n    <p>{`  `}<img parentName=\"p\" {...{\n        \"src\": \"./../images/snow/lenovo-topology.png\",\n        \"alt\": \"lenovo-topology\"\n      }}></img></p>\n    <h2>{`üì• STEP: Encrypting the Service Now Password`}</h2>\n    <p>{`  `}<strong parentName=\"p\">{`Important:`}</strong>{` You must specify an IBM Cloud Pak for Watson AIOps encrypted version of your ServiceNow password to collect inventory and topology data from ServiceNow. To encrypt your ServiceNow password, complete the following steps:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Make sure that you have oc installed on your local system. For more information about these requirements, see Preparing to install IBM Cloud Pak for Watson AIOps. Log in to your Red Hat OpenShift Container Platform cluster by using the oc login command. You can identify your specific oc login by clicking the user name dropdown menu in the Red Hat OpenShift Container Platform console, then clicking Copy Login Command.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Switch your project to where the Cloud Pak for Watson AIOps is installed (e.g. cp4waiops) using the following command (use your own project name):`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc project cp4waiops\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Identify the full name for the evtmanager-topology-topology pod:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get pods | grep evtmanager-topology-topology\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Enter the following command to encrypt your password. The content of <your_password> is your unencrypted ServiceNow password.`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`oc exec -ti evtmanager-topology-topology-<xxxxxxxxx-xxxxx> -- java -jar /opt/ibm/topology-service/topology-service.jar encrypt_password -p '<your_password>'\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Copy and paste the results of the preceding command (your encrypted ServiceNow password) in this field.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport * as styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"PageHeader-module--bx--text-truncate--end--b8JtW\";\nexport var bxTextTruncateFront = \"PageHeader-module--bx--text-truncate--front--WwZFh\";\nexport var darkMode = \"PageHeader-module--dark-mode--WCeH8\";\nexport var pageHeader = \"PageHeader-module--page-header--NqfPe\";\nexport var text = \"PageHeader-module--text--Er2EO\";\nexport var withTabs = \"PageHeader-module--with-tabs--vbQ-W\";","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"EditLink-module--bx--text-truncate--end--uI0cF\";\nexport var bxTextTruncateFront = \"EditLink-module--bx--text-truncate--front--HxjcS\";\nexport var link = \"EditLink-module--link--IDrl1\";\nexport var row = \"EditLink-module--row--BEmSX\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"PageTabs-module--bx--text-truncate--end--OC59x\";\nexport var bxTextTruncateFront = \"PageTabs-module--bx--text-truncate--front--5I6-L\";\nexport var link = \"PageTabs-module--link--Kz-7R\";\nexport var list = \"PageTabs-module--list--xLqxG\";\nexport var listItem = \"PageTabs-module--list-item--024o6\";\nexport var selectedItem = \"PageTabs-module--selected-item--aBB0K\";\nexport var tabsContainer = \"PageTabs-module--tabs-container--Cdfzw\";","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import LastModifiedDate from './LastModifiedDate';\n\nexport default LastModifiedDate;\n","import React from 'react';\nimport { Row, Column } from '../Grid';\nimport * as styles from './last-modified-date.module.scss';\n\nconst LastModifiedDate = ({ date }) => {\n  const options = {\n    day: '2-digit',\n    year: 'numeric',\n    month: 'long',\n  };\n\n  const lastModified = new Date(date);\n\n  return date ? (\n    <Row className={styles.row}>\n      <Column>\n        <div className={styles.text}>\n          Page last updated: {lastModified.toLocaleDateString('en-GB', options)}\n          {/* // https://www-03preprod.ibm.com/support/knowledgecenter/ibm_style/dates-and-times.html */}\n        </div>\n      </Column>\n    </Row>\n  ) : null;\n};\nexport default LastModifiedDate;\n","// extracted by mini-css-extract-plugin\nexport var bxTextTruncateEnd = \"last-modified-date-module--bx--text-truncate--end--QgCc7\";\nexport var bxTextTruncateFront = \"last-modified-date-module--bx--text-truncate--front--kel8a\";\nexport var row = \"last-modified-date-module--row--XJoYQ\";\nexport var text = \"last-modified-date-module--text--ogPQF\";","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\nimport LastModifiedDate from '../components/LastModifiedDate';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n    date,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n        <LastModifiedDate date={date} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","title","theme","tabs","className","cx","length","id","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","PageTabs","render","this","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","Link","to","React","date","lastModified","Date","toLocaleDateString","day","year","month","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils"],"sourceRoot":""}