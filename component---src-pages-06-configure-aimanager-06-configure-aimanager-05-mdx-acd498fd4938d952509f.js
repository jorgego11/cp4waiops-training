"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([[8805],{7230:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return u}});var n=a(3366),i=(a(7294),a(4983)),l=a(4295),r=["components"],o={},m=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)}},s=m("Accordion"),p=m("AccordionItem"),c={_frontmatter:o},d=l.Z;function u(e){var t=e.components,a=(0,n.Z)(e,r);return(0,i.kt)(d,Object.assign({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"ELK (Elasticsearch, Logstash, and Kibana) is a suite of tools that function as an application log aggregation tool and its included in the OpenShift Logging library.\nNote that Kibana is a data visualization and exploration tool used for log and time-series analytics, application monitoring, and operational intelligence use cases.\nOpenShift customers that prefer not to buy a commercial log aggregator such as Humio, Splunk, or LogDNA, more than likely will use the OpenShift Logging library that comes out of the box.\nTo have the CP4WAIOps collect logs from the ELK installation that leverages the OpenShift Logging library, you need to define an this ELK integration.\nIn this section you will create the integration with ELK."),(0,i.kt)("h2",null,"üöÄ TASK: Create the ELK Integration"),(0,i.kt)("a",{href:"https://www.ibm.com/docs/en/cloud-paks/cloud-pak-watson-aiops/3.6.0?topic=connections-elk",target:"_blank"},"üåè Documentation for the Task: Creating ELK connections"),(0,i.kt)("p",null,"Create the ELK Integration with the following parameters:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'ELK service URL:        from MY_CONFIGURATION.txt\nKibana URL:             from MY_CONFIGURATION.txt\nAuthentication type:        Token\nToken:              from MY_CONFIGURATION.txt\n\nFilter:\n{\n "query": {\n  "bool": {\n   "must": {\n    "term" : { "kubernetes.namespace_name" : "robot-shop" }\n   }\n  }\n }\n}\n\n\nTimeZone:           set to your Timezone    \nKibana port:            443\n\nMapping:\n{ \n"codec": "elk",\n"message_field": "message",\n"log_entity_types": "kubernetes.container_image_id, kubernetes.host, kubernetes.pod_name, kubernetes.namespace_name",\n"instance_id_field": "kubernetes.container_name",\n"rolling_time": 10,\n"timestamp_field": "@timestamp"\n}\n')),(0,i.kt)(s,{mdxType:"Accordion"},(0,i.kt)(p,{title:"üí° Need Help?",mdxType:"AccordionItem"},(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"CP4WAIOPS")," ‚ÄúHamburger‚Äù Menu select ",(0,i.kt)("inlineCode",{parentName:"p"},"Define"),"/",(0,i.kt)("inlineCode",{parentName:"p"},"Data and tool connections"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Add connection"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Under ",(0,i.kt)("inlineCode",{parentName:"p"},"ELK"),", click on ",(0,i.kt)("inlineCode",{parentName:"p"},"Add connection"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Connect"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Name it ",(0,i.kt)("inlineCode",{parentName:"p"},"ELK"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"üîé Get the data from the DEMO-UI under the Configuration tab, look for the ",(0,i.kt)("inlineCode",{parentName:"p"},"2.2 Configure ELK")," section.\n(For ‚ÄúFilter‚Äù and ‚ÄúField Mapping‚Äù use the values listed below)")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Fill out the fields on the first page:"),(0,i.kt)("img",{parentName:"li",src:"./../images/25_elk.png",alt:"image"}),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'Filter:\n    {\n    "query": {\n        "bool": {\n            "must": {\n                "term" : { "kubernetes.namespace_name" : "robot-shop" }\n            }\n            }\n        }\n    }\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Test connection"),". You should get ",(0,i.kt)("inlineCode",{parentName:"p"},"Connection successful!")),(0,i.kt)("img",{parentName:"li",src:"./../images/26_elk.png",alt:"image"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Next"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Fill out the ",(0,i.kt)("inlineCode",{parentName:"p"},"Field mapping"),":"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'{ \n"codec": "elk",\n"message_field": "message",\n"log_entity_types": "kubernetes.container_image_id, kubernetes.host, kubernetes.pod_name, kubernetes.namespace_name",\n"instance_id_field": "kubernetes.container_name",\n"rolling_time": 10,\n"timestamp_field": "@timestamp"\n}\n'))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Next")),(0,i.kt)("img",{parentName:"li",src:"./../images/27_elk.png",alt:"image"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Turn On ",(0,i.kt)("inlineCode",{parentName:"p"},"Data collection"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Select ",(0,i.kt)("inlineCode",{parentName:"p"},"Live data for continuous AI training and anomaly detection"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("inlineCode",{parentName:"p"},"Done"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Make sure that the Data Collection and Connection Status turn green after a few minutes"),(0,i.kt)("img",{parentName:"li",src:"./../images/28_elk.png",alt:"image"}))))))}u.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return C}});var n=a(7294),i=a(8650),l=a.n(i),r=a(5444),o=a(9403),m=a(6835),s=a(5900),p=a.n(s),c=function(e){var t,a=e.title,i=e.theme,l=e.tabs,r=void 0===l?[]:l;return n.createElement("div",{className:p()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=r.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===i,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},d=function(e){var t=e.relativePagePath,a=e.repository,i=(0,r.useStaticQuery)("1364590287").site.siteMetadata.repository,l=a||i,o=l.baseUrl,m=l.subDirectory,s=o+"/edit/"+l.branch+m+"/src/pages"+t;return o?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:s},"Edit this page on GitHub"))):null},u=a(4275),k=a(1721),g=function(e){function t(){return e.apply(this,arguments)||this}return(0,k.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,i=e.slug,o=i.split("/").filter(Boolean).slice(-1)[0],m=a.map((function(e){var t,a=l()(e,{lower:!0,strict:!0}),m=a===o,s=new RegExp(o+"/?(#.*)?$"),c=i.replace(s,a);return n.createElement("li",{key:e,className:p()((t={},t["PageTabs-module--selected-item--aBB0K"]=m,t),"PageTabs-module--list-item--024o6")},n.createElement(r.Link,{className:"PageTabs-module--link--Kz-7R",to:""+c},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},m))))))},t}(n.Component),N=g,h=a(2881),b=a(6958),f=a(36),E=function(e){var t=e.date,a=new Date(t);return t?n.createElement(f.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(f.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},C=function(e){var t=e.pageContext,a=e.children,i=e.location,s=e.Title,p=t.frontmatter,k=void 0===p?{}:p,g=t.relativePagePath,f=t.titleType,C=k.tabs,y=k.title,v=k.theme,_=k.description,x=k.keywords,w=k.date,T=(0,b.Z)().interiorTheme,L=(0,r.useStaticQuery)("2456312558").site.pathPrefix,P=L?i.pathname.replace(L,""):i.pathname,K=C?P.split("/").filter(Boolean).slice(-1)[0]||l()(C[0],{lower:!0}):"",I=v||T;return n.createElement(m.Z,{tabs:C,homepage:!1,theme:I,pageTitle:y,pageDescription:_,pageKeywords:x,titleType:f},n.createElement(c,{title:s?n.createElement(s,null):y,label:"label",tabs:C,theme:I}),C&&n.createElement(N,{title:y,slug:P,tabs:C,currentTab:K}),n.createElement(h.Z,{padded:!0},a,n.createElement(d,{relativePagePath:g}),n.createElement(E,{date:w})),n.createElement(u.Z,{pageContext:t,location:i,slug:P,tabs:C,currentTab:K}),n.createElement(o.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-06-configure-aimanager-06-configure-aimanager-05-mdx-acd498fd4938d952509f.js.map